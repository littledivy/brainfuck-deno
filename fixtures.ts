import { Lib } from "./io.ts";

interface Fixture {
  name: string;
  code: string;
  lib: Lib;
  panic?: boolean;
}

export default [
  {
    name: "hello-world",
    code: `
        >++++++++[-<+++++++++>]<.>>+>-[+]++
        >++>+++[>[->+++<<+++>]<<]>-----.>->
        +++..+++.>-.<<+[>[+>+]>>]<---------
        -----.>>.+++.------.--------.>+.>+.
        `,
    lib: {},
  },
  {
    name: "add-two-numbers",
    code: `
                +++          input |num|
        [            while |num| is non-zero

        [             until |num| is zero
            >+>+          increment |temp| and |total|
            <<            return to |num|
            -             decrement |num|
        ]
        >-           goto |temp|, decrement
        [<+>-]       until |temp| is zero; decrement |temp|; increment |num|

        <           goto |num|
        ]
        >>.          goto |total|, output it
        `,
    lib: { input: "1" },
  },
  {
    name: "bf-to-c-transpiler",
    code: `
        +++[>+++++<-]>>+<[>>++++>++>+++++>+++++>+>>+<++[++<]>---]

>++++.>>>.+++++.>------.<--.+++++++++.>+.+.<<<<---.[>]<<.<<<.-------.>++++.
<+++++.+.>-----.>+.<++++.>>++.>-----.

<<<-----.+++++.-------.<--.<<<.>>>.<<+.>------.-..--.+++.-----<++.<--[>+<-]
>>>>>--.--.<++++.>>-.<<<.>>>--.>.

<<<<-----.>----.++++++++.----<+.+++++++++>>--.+.++<<<<.[>]<.>>

,[>>+++[<+++++++>-]<[<[-[-<]]>>[>]<-]<[<+++++>-[<+++>-[<-->-[<+++>-
[<++++[>[->>]<[>>]<<-]>[<+++>-[<--->-[<++++>-[<+++[>[-[-[-[->>]]]]<[>>]<<-]
>[<+>-[<->-[<++>-[<[-]>-]]]]]]]]]]]]]

<[
    -[-[>+<-]>]
    <[<<<<.>+++.+.+++.-------.>---.++.<.>-.++<<<<.[>]>>>>>>>>>]
    <[[<]>++.--[>]>>>>>>>>]
    <[<<++..-->>>>>>]
    <[<<..>>>>>]
    <[<<..-.+>>>>]
    <[<<++..---.+>>>]
    <[<<<.>>.>>>>>]
    <[<<<<-----.+++++>.----.+++.+>---.<<<-.[>]>]
    <[<<<<.-----.>++++.<++.+++>----.>---.<<<.-[>]]
    <[<<<<<----.>>.<<.+++++.>>>+.++>.>>]
    <.>
]>
,]

<<<<<.<+.>++++.<----.>>---.<<<-.>>>+.>.>.[<]>++.[>]<.
>`,
    lib: {
      input: `>++++++++[-<+++++++++>]<.>>+>-[+]++
>++>+++[>[->+++<<+++>]<<]>-----.>->
+++..+++.>-.<<+[>[+>+]>>]<---------
-----.>>.+++.------.--------.>+.>+.`,
    },
  },
  {
    name: "xmas-tree",
    code: `
        >>>--------<,[<[>++++++++++<-]>>[<------>>-<+],]++>>++<--[<++[+>]>+<<+++<]<
        <[>>+[[>>+<<-]<<]>>>>[[<<+>.>-]>>]<.<<<+<<-]>>[<.>--]>.>>.
        `,
    lib: { input: "10" },
  },
] as Fixture[];
